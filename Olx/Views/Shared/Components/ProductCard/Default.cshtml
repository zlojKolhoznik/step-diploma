@using Olx.Models
@model Olx.Models.Product

<div class="product-card m-2" data-id="@Model.Id">
    <a asp-controller="Product" asp-action="UserView" asp-route-id="@Model.Id">
        <div class="product-card-header">
            <img src="@Model.PhotoUrls.First()" alt="" class="product-image">
            <button class="like-button">
                @if (ViewBag.IsFavorite)
                {
                    <svg width="18" height="17" viewBox="0 0 18 17" fill="#FB6C6C" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9 15L7.84 13.9929C3.72 10.43 1 8.08011 1 5.19619C1 2.84632 2.936 1 5.4 1C6.792 1 8.128 1.61798 9 2.59455C9.872 1.61798 11.208 1 12.6 1C15.064 1 17 2.84632 17 5.19619C17 8.08011 14.28 10.43 10.16 14.0005L9 15Z"/>
                    </svg>
                }
                else
                {
                    <svg width="18" height="17" viewBox="0 0 18 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9 15L7.84 13.9929C3.72 10.43 1 8.08011 1 5.19619C1 2.84632 2.936 1 5.4 1C6.792 1 8.128 1.61798 9 2.59455C9.872 1.61798 11.208 1 12.6 1C15.064 1 17 2.84632 17 5.19619C17 8.08011 14.28 10.43 10.16 14.0005L9 15Z" stroke="#353535" stroke-width="2"/>
                    </svg>
                }
            </button>
            <button class="shipment-button">
                <svg width="22" height="16" viewBox="0 0 22 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M19.014 13.0003L21 13V8.85714L17.6667 5H14.3333V13M19.014 13.0003C18.818 12.4175 18.2888 12 17.6667 12M19.014 13.0003C19.0666 13.1566 19.0952 13.3248 19.0952 13.5M17.6667 12C17.0446 12 16.5153 12.4175 16.3193 13.0003M17.6667 12C18.4556 12 19.0952 12.6716 19.0952 13.5M17.6667 12C16.8777 12 16.2381 12.6716 16.2381 13.5M16.3193 13.0003L14.3333 13M16.3193 13.0003C16.2667 13.1566 16.2381 13.3248 16.2381 13.5M14.3333 13V1H1M14.3333 13L7.58548 13.0003M7.58548 13.0003C7.38944 12.4175 6.86021 12 6.2381 12M7.58548 13.0003C7.63806 13.1566 7.66667 13.3248 7.66667 13.5M6.2381 12C5.61598 12 5.08675 12.4175 4.89071 13.0003M6.2381 12C7.02707 12 7.66667 12.6716 7.66667 13.5M6.2381 12C5.44912 12 4.80952 12.6716 4.80952 13.5M4.89071 13.0003L3.85714 13M4.89071 13.0003C4.83813 13.1566 4.80952 13.3248 4.80952 13.5M19.0952 13.5C19.0952 14.3284 18.4556 15 17.6667 15C16.8777 15 16.2381 14.3284 16.2381 13.5M7.66667 13.5C7.66667 14.3284 7.02707 15 6.2381 15C5.44912 15 4.80952 14.3284 4.80952 13.5M4.33333 7H2.90476M4.33333 10H3.85714M4.33333 4H1.95238" stroke="#353535" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
            @if (Model.IsPromoted)
            {
                <div class="promoted-label">VIP</div>
            }
        </div>
        <div class="product-card-content">
            <div class="product-card-content-subtitle">
                <div class="cityName" data-ref="@Model.City"></div>
                <div class="date">@Model.CreatedAt.ToShortDateString()</div>
            </div>
            <div class="product-card-content-title">@(Model.Name.Length > 45 ? Model.Name[..45] + "..." : Model.Name)</div>
            <div class="product-card-content-info">
                <div class="state">@Html.DisplayFor(p => p.ItemState)</div>
                @if (Model.PriceType == PriceType.Regular)
                {
                    <div class="price">@Model.Price грн.</div>
                }
                else
                {
                    <div class="price">@Html.DisplayFor(m => m.PriceType)</div>
                }
            </div>
        </div>
    </a>
</div>

